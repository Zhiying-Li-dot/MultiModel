# 电商视频编辑项目三月规划 v2.0

> **更新说明**: 基于当前 Training-free 方案已实现初步效果（ti2v_inversion_edit.py），重新调整规划
>
> 项目周期：2025年1月20日 - 2025年4月20日（共12周）
>
> 团队成员：徐昊、李志颖、Jacky、西子、子恒、浩佳

---

## 当前进展状态

### WS2 Training-free 方案现状

**已完成工作**:
- [x] Wan2.2 TI2V 环境搭建
- [x] Inversion-Generation Pipeline 实现 (`ti2v_inversion_edit.py`)
- [x] 基础效果验证 (JEW002_comparison_49frames.mp4, JEW002_comparison.mp4)

**已实现核心功能**:
```python
# ti2v_inversion_edit.py 核心架构
TI2VInversionEditor:
├── Stage 1: INVERSION (source video → noise)
│   ├── FlowDPMSolverMultistepScheduler
│   ├── Source prompt conditioning
│   └── Source first-frame TI2V conditioning
├── Stage 2: GENERATION (noise → edited video)
│   ├── FlowUniPCMultistepScheduler
│   ├── Target prompt conditioning
│   └── Target first-frame TI2V conditioning
└── Stage 3: VAE DECODE
```

**当前效果评估**:
- 基础 Inversion-Generation 已可运行
- 结构保持能力待提升
- 时序连贯性待优化
- 推理速度待加速

---

## 项目概览（调整后）

### 四条工作线

| 编号 | 工作流 | 负责人 | 核心目标 | 当前状态 |
|:----:|--------|--------|----------|----------|
| WS1 | DMD训练加速 | Jacky、西子 | 构建电商数据集，训练4-8步加速模型 | 已启动 |
| WS2 | Training-free方案 | 徐昊、李志颖 | 优化现有方法，提升效果 | **已有初步结果** |
| WS3 | Evaluation Benchmark | 子恒、李志颖 | 建立视频编辑评估基准与排行榜 | 已启动 |
| WS4 | 文献调研 | 浩佳 | 追踪前沿，输出技术文档 | 持续进行 |

### 调整后的工作重心

由于 WS2 已有初步成果，工作重心调整为：

```
第一个月 (Week 1-4):
├── WS2: 效果优化 + 多方法对比 (重点)
├── WS1: 数据准备 + 训练框架搭建
├── WS3: 评估方案设计 + 初步评测
└── WS4: 文献跟踪 + 技术输入

第二个月 (Week 5-8):
├── WS1: 模型训练 (重点)
├── WS2: 速度优化 + 场景扩展
├── WS3: Benchmark 完善 + 排行榜
└── WS4: 综述输出

第三个月 (Week 9-12):
├── WS1: 模型发布 + Demo
├── WS2: 方法发布 + API
├── WS3: Benchmark 发布 + 评测报告
└── WS4: 技术白皮书
```

---

## 第一个月详细计划（Week 1-4）

### Week 1（1.20 - 1.26）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 电商视频数据源调研 | 西子 | 数据源清单 | 列出≥5个可用数据源 |
| DMD/CMD技术调研 | Jacky | 技术笔记 | 理解核心原理，确定技术路线 |
| 搭建数据下载脚本 | 西子 | 代码 | 可自动下载视频 |

#### WS2 Training-free方案 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 现有代码效果分析 | 徐昊 | 分析报告 | 定位当前问题点 |
| FlowEdit 方法对比实现 | 徐昊 | FlowEdit代码 | 与Inversion方法对比 |
| RF-Solver Taylor展开改进 | 李志颖 | 改进代码 | 减少反转误差 |
| 多视频效果测试 | 李志颖 | 测试报告 | ≥10个视频测试 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 现有Video Editing评估方法调研 | 子恒 | 调研文档 | 覆盖≥10篇相关论文 |
| 收集公开视频编辑数据集 | 李志颖 | 数据集列表 | 列出可用公开数据集 |
| **对现有结果进行初步评测** | 子恒 | 评测结果 | FVD/CLIP指标 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 建立文献追踪机制 | 浩佳 | 追踪表格模板 | 包含论文基本信息字段 |
| Video Editing核心论文收集 | 浩佳 | 论文列表(≥15篇) | 覆盖2023-2025主要工作 |
| 精读RF-Solver论文 | 浩佳 | 技术总结PPT | 周会分享 |

**Week 1 周会议程**：
- 项目启动会
- **展示当前 ti2v_inversion_edit.py 效果**
- 分析当前方法的优缺点
- 浩佳分享：RF-Solver技术解读

---

### Week 2（1.27 - 2.2）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 电商视频批量下载 | 西子 | 原始视频≥3000条 | 视频质量可用 |
| 视频预处理Pipeline设计 | 西子 | Pipeline设计文档 | 包含清洗、裁剪、筛选流程 |
| DMD训练框架调研 | Jacky | 框架对比报告 | 选定训练框架 |
| 基础训练代码搭建 | Jacky | 训练代码v0.1 | 可运行空模型 |

#### WS2 Training-free方案 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Feature Injection机制实现** | 徐昊 | 改进代码 | 结构保持能力提升 |
| **Attention共享机制实现** | 徐昊 | 改进代码 | 时序连贯性提升 |
| **Inversion步数/策略优化** | 李志颖 | 优化代码 | 反转精度提升 |
| **CFG参数调优实验** | 李志颖 | 实验报告 | 最佳参数组合 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 评估维度初步设计 | 子恒 | 评估维度文档v0.1 | 列出主要评估维度 |
| 电商场景测试视频收集 | 李志颖 | 测试视频≥50条 | 覆盖商品替换、背景编辑等 |
| **SSIM/LPIPS/CLIP实现** | 子恒 | 评估代码 | 可计算基础指标 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 精读FlowEdit论文 | 浩佳 | 技术总结 | 理解FlowAlign核心 |
| 精读TokenFlow论文 | 浩佳 | 技术总结 | 理解特征传播机制 |
| 周报输出 | 浩佳 | 周报文档 | 本周论文追踪汇总 |

**Week 2 周会议程**：
- 各组进度同步
- **Feature Injection效果展示**
- 浩佳分享：FlowEdit vs TokenFlow对比
- 讨论：结构保持的关键技术

---

### Week 3（2.3 - 2.9）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 视频数据清洗与筛选 | 西子 | 清洗后视频≥2000条 | 质量达标 |
| 设计source-target pair生成方案 | 西子 | 标注方案文档 | 方案可行 |
| DMD Loss实现 | Jacky | 损失函数代码 | 可正常计算 |
| 小规模训练测试 | Jacky | 测试报告 | 训练流程跑通 |

#### WS2 Training-free方案 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **改进方法v1.0整合** | 徐昊 | 整合代码 | Inversion+FlowEdit+Feature Injection |
| **消融实验** | 徐昊 | 消融报告 | 各模块贡献分析 |
| **商品替换场景测试** | 李志颖 | 测试报告 | 电商商品替换效果 |
| **背景编辑场景测试** | 李志颖 | 测试报告 | 背景替换效果 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 结构保持指标设计 | 子恒 | 指标定义文档 | 定义清晰可计算 |
| 时序连贯性指标设计 | 子恒 | 指标定义文档 | 帧间一致性检测 |
| **对改进方法进行评测** | 子恒 | 评测结果 | vs基线对比 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 精读DMD论文 | 浩佳 | 技术总结 | 理解蒸馏原理 |
| 精读Consistency Models论文 | 浩佳 | 技术总结 | 理解一致性训练 |
| 加速方法对比整理 | 浩佳 | 对比表格 | DMD vs CMD vs LCM |

**Week 3 周会议程**：
- 各组进度同步
- **改进方法v1.0效果展示**
- 浩佳分享：加速方法综述
- 技术讨论：数据集pair生成策略

---

### Week 4（2.10 - 2.16）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 自动化数据处理Pipeline | 西子 | Pipeline代码 | 可批量处理 |
| 首批训练数据生成 | 西子 | 训练数据≥1000 pairs | 质量可用 |
| 完整训练代码 | Jacky | 训练代码v1.0 | 可开始正式训练 |
| 训练监控与日志系统 | Jacky | 监控Dashboard | 可查看训练状态 |

#### WS2 Training-free方案 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **推理速度优化** | 徐昊 | 优化代码 | 速度提升≥20% |
| **显存优化** | 徐昊 | 优化代码 | 可在24G GPU运行 |
| **电商多场景测试** | 李志颖 | 综合测试报告 | ≥5种场景 |
| **方法v1.0文档编写** | 李志颖 | 使用文档 | 清晰可复现 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| FVD/CLIP Score实现 | 子恒 | 评估代码 | 可计算指标 |
| 目标一致性指标实现 | 子恒 | 评估代码 | 可计算指标 |
| **Benchmark设计文档v1.0** | 子恒 | 设计文档 | 完整评估方案 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| Video Editing方法综述初稿 | 浩佳 | 综述文档 | ≥20篇论文 |
| 本月文献汇总 | 浩佳 | 月度报告 | 完整追踪记录 |

**Week 4 周会议程**：
- 第一个月总结
- **Training-free方法v1.0发布评审**
- 浩佳分享：Video Editing方法综述
- 规划调整讨论

---

### 第一个月里程碑检查

| 工作流 | 里程碑 | 验收标准 | 优先级 |
|--------|--------|----------|--------|
| WS2 | **改进方法v1.0发布** | Feature Injection + Attention共享 | P0 |
| WS2 | **效果提升验证** | 结构保持/时序连贯均有提升 | P0 |
| WS1 | 数据Pipeline就绪 | 可自动生成训练数据 | P1 |
| WS1 | 训练代码就绪 | 可开始正式训练 | P1 |
| WS3 | Benchmark设计完成 | 评估维度+指标定义 | P1 |
| WS3 | 测试集≥50条 | 数据收集完成 | P2 |
| WS4 | 综述文档v1 | ≥20篇核心论文 | P2 |

---

## 第二个月详细计划（Week 5-8）

### Week 5（2.17 - 2.23）

#### WS1 DMD训练加速 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **训练数据扩充** | 西子 | 训练数据≥3000 pairs | 多样性提升 |
| 数据质量审核机制 | 西子 | 审核工具 | 可筛选低质量数据 |
| **开始模型训练(8步)** | Jacky | 训练日志 | 训练正常进行 |
| 训练超参调优 | Jacky | 调优记录 | 确定最佳超参 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Latent Blending优化** | 徐昊 | 改进代码 | 过渡更自然 |
| 多分辨率支持 | 徐昊 | 适配代码 | 支持多种分辨率 |
| 风格迁移场景适配 | 李志颖 | 场景代码 | 支持风格编辑 |
| 属性编辑场景适配 | 李志颖 | 场景代码 | 颜色/材质等 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 结构保持指标实现 | 子恒 | 评估代码 | SSIM/LPIPS/DINO |
| 时序连贯性指标实现 | 子恒 | 评估代码 | 帧间一致性检测 |
| 标注测试数据 | 李志颖 | 标注数据≥30 pairs | 含GT标注 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 追踪本周新论文 | 浩佳 | 周报 | 及时更新 |
| 精读Video-P2P论文 | 浩佳 | 技术总结 | 理解Cross-attention控制 |
| 精读Tune-A-Video论文 | 浩佳 | 技术总结 | 理解单视频微调 |

**Week 5 周会议程**：
- 各组进度同步
- **DMD训练启动汇报**
- 浩佳分享：Attention控制方法综述
- 讨论：训练数据质量把控

---

### Week 6（2.24 - 3.2）

#### WS1 DMD训练加速 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 持续数据扩充 | 西子 | 训练数据≥5000 pairs | 质量稳定 |
| 数据增强策略实现 | 西子 | 增强代码 | 提升数据多样性 |
| **模型训练checkpoint保存** | Jacky | checkpoints | 多个阶段保存 |
| **中间结果评估** | Jacky | 评估报告 | 分析训练效果 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| Noise Reschedule策略 | 徐昊 | 改进代码 | 编辑强度可控 |
| **与DMD结合可行性研究** | 徐昊 | 研究报告 | 技术方案分析 |
| 全场景效果对比 | 李志颖 | 对比报告 | 各场景效果分析 |
| Bug修复与稳定性 | 李志颖 | 修复记录 | 稳定可用 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **自动评估Pipeline搭建** | 子恒 | 评估Pipeline | 一键运行评估 |
| 编辑准确率指标实现 | 子恒 | 评估代码 | 物体/属性编辑准确率 |
| 扩充标注数据 | 李志颖 | 标注数据≥50 pairs | 场景多样 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 追踪本周新论文 | 浩佳 | 周报 | 及时更新 |
| 精读Pix2Video论文 | 浩佳 | 技术总结 | 理解跨帧传播 |
| 电商视频应用案例收集 | 浩佳 | 案例文档 | ≥10个应用案例 |

**Week 6 周会议程**：
- 各组进度同步
- **DMD训练中间结果展示**
- 浩佳分享：电商视频编辑应用案例
- 讨论：Training-free与DMD结合

---

### Week 7（3.3 - 3.9）

#### WS1 DMD训练加速 ⭐ 重点
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **数据集v1.0发布** | 西子 | Dataset v1.0 | ≥5000 pairs + 文档 |
| 数据集使用文档 | 西子 | 使用说明 | 清晰易懂 |
| **4步模型训练** | Jacky | 4步checkpoint | 训练完成 |
| **8步模型训练完成** | Jacky | 8步checkpoint | 效果评估 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 方法v2.0整合 | 徐昊 | 整合代码 | 包含所有优化 |
| **Gradio Demo开发** | 徐昊 | Demo界面 | 可交互演示 |
| 方法效果总结 | 李志颖 | 总结报告 | 各方法对比 |
| 最佳实践文档 | 李志颖 | 实践文档 | 参数推荐 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **人工评估界面开发** | 子恒 | Web界面 | 可进行人工打分 |
| 评估指标权重设计 | 子恒 | 权重方案 | 合理可解释 |
| 完善标注数据 | 李志颖 | 标注数据≥80 pairs | 覆盖全场景 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 追踪本周新论文 | 浩佳 | 周报 | 及时更新 |
| **加速方法综述整理** | 浩佳 | 综述文档 | DMD/CMD/LCM对比 |
| Benchmark方法调研 | 浩佳 | 调研文档 | 现有评估方法 |

**Week 7 周会议程**：
- 各组进度同步
- **Dataset v1.0发布评审**
- **Gradio Demo演示**
- 浩佳分享：加速方法综述

---

### Week 8（3.10 - 3.16）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 数据质量分析 | 西子 | 分析报告 | 识别问题数据 |
| 数据集优化计划 | 西子 | 优化方案 | v2.0规划 |
| **4步 vs 8步效果对比** | Jacky | 对比报告 | 质量-速度权衡 |
| 模型优化方向确定 | Jacky | 优化计划 | 下月工作方向 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **方法v2.0发布** | 徐昊 | 代码 + 文档 | 可复现 |
| API接口设计 | 徐昊 | API文档 | 接口规范 |
| 全场景最终测试 | 李志颖 | 测试报告 | 覆盖所有场景 |
| 方法局限性分析 | 李志颖 | 分析文档 | 问题与改进方向 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Benchmark v1.0整合** | 子恒 | 完整Benchmark | 评估Pipeline可用 |
| **DMD模型评测** | 子恒 | 评测结果 | vs Training-free对比 |
| 标注数据完成 | 李志颖 | 标注数据≥100 pairs | 完整测试集 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Benchmark方法综述** | 浩佳 | 综述文档 | 评估方法对比 |
| 第二月文献汇总 | 浩佳 | 月度报告 | 完整追踪记录 |
| 技术白皮书框架 | 浩佳 | 框架文档 | 白皮书大纲 |

**Week 8 周会议程**：
- 第二个月总结
- **DMD模型 vs Training-free 效果对比**
- 各工作流中期成果展示
- 下月计划调整

---

### 第二个月里程碑检查

| 工作流 | 里程碑 | 验收标准 | 优先级 |
|--------|--------|----------|--------|
| WS1 | **Dataset v1.0发布** | ≥5000 pairs + 文档 | P0 |
| WS1 | **4步/8步模型训练完成** | checkpoint可用 | P0 |
| WS2 | **方法v2.0发布** | 代码 + 文档 + Demo | P0 |
| WS2 | API接口设计完成 | 接口规范 | P1 |
| WS3 | Benchmark v1.0整合 | 完整评估Pipeline | P1 |
| WS3 | 测试集≥100 pairs | 完整标注 | P1 |
| WS4 | 加速方法综述 | 完整文档 | P2 |
| WS4 | Benchmark综述 | 完整文档 | P2 |

---

## 第三个月详细计划（Week 9-12）

### Week 9（3.17 - 3.23）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 数据集扩充继续 | 西子 | 训练数据≥7000 pairs | 持续增长 |
| 难例数据收集 | 西子 | 难例数据集 | 提升模型能力 |
| 模型微调(难例) | Jacky | 微调checkpoint | 难例效果提升 |
| **推理加速优化** | Jacky | 加速代码 | 推理速度提升 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **API接口实现** | 徐昊 | API代码 | 可调用 |
| 推理加速继续优化 | 徐昊 | 优化代码 | 速度再提升 |
| **与DMD模型结合实验** | 李志颖 | 实验报告 | 探索组合方案 |
| 边界Case处理 | 李志颖 | 改进代码 | 鲁棒性提升 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Leaderboard搭建** | 子恒 | Web排行榜 | 可展示结果 |
| **全方法评测** | 子恒 | 评测结果 | DMD + Training-free |
| 人工评估实验 | 李志颖 | 人工评分数据 | ≥50条视频 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 追踪本周新论文 | 浩佳 | 周报 | 及时更新 |
| **技术白皮书撰写(第一章)** | 浩佳 | 白皮书章节 | Video Editing概述 |
| 产品化方向调研 | 浩佳 | 调研报告 | 商业应用分析 |

**Week 9 周会议程**：
- 各组进度同步
- **Leaderboard初版展示**
- 浩佳分享：产品化方向调研
- 讨论：方法组合可能性

---

### Week 10（3.24 - 3.30）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **数据集v2.0准备** | 西子 | 数据≥10000 pairs | 完整数据集 |
| 数据集文档完善 | 西子 | 完整文档 | 使用说明+案例 |
| **最终模型训练** | Jacky | 最终checkpoint | 最佳效果 |
| 模型效果评估 | Jacky | 评估报告 | 全面评估 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **方法最终版整合** | 徐昊 | 完整代码 | 包含所有优化 |
| Demo优化 | 徐昊 | 优化Demo | 用户体验提升 |
| 全面测试 | 李志颖 | 测试报告 | 覆盖率≥90% |
| 问题修复 | 李志颖 | 修复记录 | 已知问题清零 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 完整评测运行 | 子恒 | 评测结果 | 所有方法评测 |
| **评测结果分析报告** | 子恒 | 分析报告 | 各方法优缺点 |
| 人工评估汇总 | 李志颖 | 人工评分报告 | 统计分析 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 追踪本周新论文 | 浩佳 | 周报 | 及时更新 |
| **技术白皮书撰写(第二章)** | 浩佳 | 白皮书章节 | 方法详解 |
| **技术白皮书撰写(第三章)** | 浩佳 | 白皮书章节 | 评估与分析 |

**Week 10 周会议程**：
- 各组进度同步
- **完整Leaderboard展示**
- **评测结果分析讨论**
- 讨论：最终交付准备

---

### Week 11（3.31 - 4.6）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Dataset v2.0发布** | 西子 | 完整数据集 | ≥10000 pairs |
| 训练代码整理 | 西子 | 整理后代码 | 可复现 |
| **模型导出与部署准备** | Jacky | 部署包 | 可部署 |
| 技术文档撰写 | Jacky | 技术文档 | 完整说明 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **完整代码包发布** | 徐昊 | 代码包 | 可独立运行 |
| **在线Demo部署** | 徐昊 | 在线Demo | 可访问 |
| 使用文档完善 | 李志颖 | 完整文档 | 清晰易懂 |
| 代码注释完善 | 李志颖 | 注释代码 | 可读性好 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Benchmark完整包整理** | 子恒 | 完整包 | 测试集+代码+文档 |
| 开源准备 | 子恒 | 开源材料 | README+LICENSE |
| 最终评测报告 | 李志颖 | 评测报告 | 完整分析 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **技术白皮书完成** | 浩佳 | 完整白皮书 | ≥30页 |
| 参考文献整理 | 浩佳 | 文献列表 | ≥50篇 |
| 白皮书审校 | 浩佳 | 审校版本 | 无明显错误 |

**Week 11 周会议程**：
- 各组进度同步
- **Demo演示**
- 技术白皮书初稿评审
- 发布准备检查

---

### Week 12（4.7 - 4.13）

#### WS1 DMD训练加速
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 最终测试与验收 | 西子 | 测试报告 | 全部通过 |
| **交付文档整理** | 西子 | 交付包 | 完整可交付 |
| **模型Demo上线** | Jacky | 在线Demo | 可访问演示 |
| 技术分享准备 | Jacky | PPT | 可分享 |

#### WS2 Training-free方案
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| 最终测试与验收 | 徐昊 | 测试报告 | 全部通过 |
| **正式发布** | 徐昊 | 发布包 | 公开可用 |
| 技术分享准备 | 李志颖 | PPT | 可分享 |
| FAQ文档 | 李志颖 | FAQ | 常见问题解答 |

#### WS3 Evaluation Benchmark
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **Benchmark正式发布** | 子恒 | 发布包 | 可公开使用 |
| **Leaderboard正式上线** | 子恒 | 在线排行榜 | 可访问提交 |
| 技术分享准备 | 李志颖 | PPT | 可分享 |

#### WS4 文献调研
| 任务 | 负责人 | 交付物 | 验收标准 |
|------|--------|--------|----------|
| **技术白皮书发布** | 浩佳 | 最终版白皮书 | 完整发布 |
| **项目总结报告** | 浩佳 | 总结报告 | 三月工作汇总 |
| 后续工作建议 | 浩佳 | 建议文档 | 下阶段方向 |

**Week 12 周会议程**：
- **项目总结会**
- 各工作流成果展示与演示
- 技术白皮书发布
- 下阶段规划讨论

---

### 第三个月里程碑检查

| 工作流 | 里程碑 | 验收标准 | 优先级 |
|--------|--------|----------|--------|
| WS1 | Dataset v2.0发布 | ≥10000 pairs + 完整文档 | P0 |
| WS1 | 加速模型发布 | 4-8步模型 + Demo | P0 |
| WS2 | 方法正式发布 | 完整代码 + API + Demo | P0 |
| WS2 | 使用文档完成 | 清晰完整 | P1 |
| WS3 | Benchmark发布 | 测试集 + 代码 + 排行榜 | P0 |
| WS3 | 评测报告完成 | 完整分析 | P1 |
| WS4 | 技术白皮书发布 | ≥30页完整文档 | P0 |
| WS4 | 项目总结完成 | 三月工作汇总 | P1 |

---

## WS2 Training-free 方法改进路线图

基于当前 `ti2v_inversion_edit.py` 的改进方向：

### 核心改进点

```
当前实现 (v0.5)
├── Inversion: FlowDPMSolverMultistepScheduler
├── Generation: FlowUniPCMultistepScheduler
├── First-frame conditioning: TI2V style
└── CFG: guide_scale_inversion + guide_scale_generation

改进方向 (v1.0 - v2.0)
├── 1. Feature Injection (Week 1-2)
│   ├── 提取source video中间特征
│   ├── 在generation过程中注入
│   └── 控制injection强度和层数
├── 2. Attention Sharing (Week 2-3)
│   ├── Self-attention keys/values共享
│   ├── Cross-attention query共享
│   └── 时序一致性提升
├── 3. Taylor Expansion (Week 1-3)
│   ├── RF-Solver风格的误差减少
│   ├── 高阶项近似
│   └── 反转精度提升
├── 4. Latent Blending (Week 5)
│   ├── Source和target latent混合
│   ├── 可控编辑强度
│   └── 平滑过渡
└── 5. Speed Optimization (Week 4, 9)
    ├── 步数优化
    ├── 模型量化
    └── 批处理优化
```

### 关键技术实现

#### Feature Injection
```python
# 在 generation 阶段注入 source 特征
def generation_with_injection(self, ...):
    for i, t in enumerate(timesteps):
        # 获取当前时刻的source特征
        source_features = self.get_source_features(t)

        # 注入到model forward
        noise_pred = self.model(
            latent_input,
            t=timestep,
            context=context_target,
            source_features=source_features,  # 注入
            injection_scale=0.3,  # 控制强度
        )
```

#### Attention Sharing
```python
# 共享 self-attention 的 K, V
def shared_attention_forward(self, ...):
    # 使用source的K, V
    K = self.source_K[layer_idx]
    V = self.source_V[layer_idx]

    # 使用target的Q
    Q = self.to_q(hidden_states)

    # 混合
    attn_output = scaled_dot_product_attention(Q, K, V)
```

---

## 协作机制（更新）

### 会议安排

| 会议 | 时间 | 参与人 | 内容 |
|------|------|--------|------|
| 全员周会 | 每周一 10:00 | 全员 | 进度同步 + 文献分享 + Demo展示 |
| 技术讨论会 | 每周四 14:00 | 技术人员 | 问题讨论 + 方案评审 |
| WS1内部会 | 每周二 10:00 | Jacky, 西子 | 数据+训练同步 |
| WS2内部会 | 每周二 14:00 | 徐昊, 李志颖 | 方法进展同步 |
| WS3内部会 | 每周三 10:00 | 子恒, 李志颖 | Benchmark进展同步 |

### 关键协作节点

```
Week 4: WS2 v1.0 → WS3 开始评测
Week 7: WS1 模型完成 → WS3 DMD评测
Week 8: WS2 v2.0 + WS1 模型 → WS3 完整对比
Week 9: WS2 + WS1 组合实验
Week 12: 全部发布
```

---

## 风险与应对（更新）

### 技术风险

| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| Feature Injection效果不佳 | 中 | 高 | 尝试多种注入策略 |
| Attention共享破坏生成质量 | 中 | 中 | 控制共享比例 |
| DMD训练效果不佳 | 中 | 高 | 准备CMD/LCM备选 |
| 数据集质量不足 | 中 | 高 | 增加人工审核 |

### 当前风险评估

| 风险项 | 当前状态 | 缓解进展 |
|--------|----------|----------|
| 基础Pipeline可用性 | ✅ 已验证 | ti2v_inversion_edit.py运行正常 |
| 结构保持能力 | ⚠️ 待提升 | Week 1-2 重点改进 |
| 时序连贯性 | ⚠️ 待提升 | Week 2-3 Attention共享 |
| 推理速度 | ⚠️ 待优化 | Week 4 速度优化 |

---

## 附录：当前代码架构

### ti2v_inversion_edit.py 核心结构

```python
class TI2VInversionEditor:
    def __init__(self, ckpt_dir, device="cuda", offload_model=True):
        # 加载 T5, VAE, WanModel

    def encode_prompt(self, prompt):
        # T5 编码

    def edit_video(self, source_video, source_prompt, target_prompt,
                   target_image=None, ...):
        # Stage 1: INVERSION
        #   - FlowDPMSolverMultistepScheduler
        #   - 从 clean 到 noisy
        #   - source prompt + source first-frame conditioning

        # Stage 2: GENERATION
        #   - FlowUniPCMultistepScheduler
        #   - 从 noisy 到 clean
        #   - target prompt + target first-frame conditioning

        # Stage 3: DECODE
        #   - VAE decode
```

### 改进后目标架构 (v2.0)

```python
class TI2VInversionEditorV2:
    def __init__(self, ...):
        # 同上

    def edit_video(self, ...):
        # Stage 1: INVERSION (改进)
        #   - RF-Solver Taylor expansion
        #   - 存储中间特征用于注入

        # Stage 2: GENERATION (改进)
        #   - Feature Injection
        #   - Attention Sharing
        #   - Latent Blending

        # Stage 3: DECODE
        #   - 同上
```

---
